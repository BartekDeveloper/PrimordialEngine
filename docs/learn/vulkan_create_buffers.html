<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>buffers.odin (in vulkan/create)</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1><code>buffers.odin</code> (in <code>vulkan/create</code>)</h1>
        <p>This file provides procedures for creating and managing Vulkan buffers, particularly uniform buffers.</p>
        <h2><code>UniformBuffers</code> procedure</h2>
        <p>This procedure creates uniform buffers for the application. It allocates a uniform buffer for each frame in flight, maps its memory, and stores it in the <code>uniformBuffers</code> map within the <code>VulkanData</code> struct. These buffers are used to store data that is frequently updated and accessed by shaders, such as camera matrices and lighting parameters.</p>
        <h2><code>Buffer</code> procedure group</h2>
        <p>This procedure group provides two ways to create Vulkan buffers:</p>
        <ul>
            <li><strong><code>Buffer_return</code>:</strong> This procedure creates a <code>vk.Buffer</code> and allocates device memory for it. It returns the created buffer and a boolean indicating success. It takes the Vulkan data, size, usage flags, and memory properties as input.</li>
            <li><strong><code>Buffer_modify</code>:</strong> This procedure creates a <code>vk.Buffer</code> and allocates device memory for it, similar to <code>Buffer_return</code>. However, instead of returning the buffer, it modifies a provided <code>t.Buffer</code> struct to store the created buffer and its associated memory. It returns a boolean indicating success.</li>
        </ul>
        <p>Both procedures handle the creation of the buffer, querying memory requirements, allocating memory, and binding the memory to the buffer.</p>
        <h2><code>MapMemory</code> procedure</h2>
        <p>This procedure maps a region of device memory into host-accessible memory. This allows the CPU to write data directly to the GPU's memory. It takes the Vulkan data, a <code>t.Buffer</code> struct, the size of the memory to map, and memory map flags as input. It returns a <code>vk.Result</code> indicating the success or failure of the operation.</p>
    </div>
    <script src="script.js"></script>
</body>
</html>